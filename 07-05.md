# 07-05
---
#选择器
```
【注】选择器是一个变量类型
				SEL
【注】SEL的变量装消息 类似于函数指针
【见选择器Demo】

SEL sel = @selector(show);

[person performSelector:sel];

[man performSelector:@selector(setName:) withObject:@"Tom"];

//添加的参数都对象（id)

【注】performSelector:最多支持两个参数
```
---
#选择器的使用一
##直接使用
###根据输入不同的内容，从而执行不同的方法
```
#import <Foundation/Foundation.h>
#import "Wolf.h"

int main(int argc, const char * argv[]) {
    @autoreleasepool {
        Wolf * wolf = [[Wolf alloc] init];
        [wolf eat];
        [wolf run];
        [wolf eatOfAnimal:@"兔子"];
        
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Warc-performSelector-leaks"
        //        根据输入的内容让程序执行不同的代码
        NSString * str = @"eat";
        //        把字符串转换成一个SEL
        SEL sel = NSSelectorFromString(str);
        [wolf performSelector:sel];
//        根据输入的内容，运行选择器
//        如果对象中不包含sel2对应的方法，则会崩溃
        char ch[100];
        scanf("%s", ch);
        NSString * result = [NSString stringWithUTF8String:ch];
        SEL sel2 = NSSelectorFromString(result);
//        可以判断对象中是否存在选择器所对应的方法
        if([wolf respondsToSelector:sel2]){
//            存在选择器，就运行
            [wolf performSelector:sel2];
        }else{
            NSLog(@"wolf 不存在 %@ 方法", result);
        }
        
        
#pragma clang diagnostic pop
        
        /**
         *  总结：
         *  1、定义选择器SEL， sel = @selector(方法名)
         *  2、就调用选择器对应的方法，performSelector：最多可以有两个参数
         *  3、把一个字符串转换成一个选择器
         *  4、是判断一个对象是否存在一个与选择器对应的方法：respondsToSelector：
         *  ？？？？？？作用？？？？？？
         */
        
    }
    return 0;
}

```
####选择器中传进去的是方法名
---
#选择器的使用二
###对于扩展类别的使用
```
#import <Foundation/Foundation.h>
#import "NSMutableArray+SELSort.h"
int main(int argc, const char * argv[]) {
    @autoreleasepool {
//            扩展知识点:
        NSMutableArray<NSString *> * array = [NSMutableArray arrayWithObjects:@"one", @"two", @"three",@"four", nil];
        [array sortUsingSelector:@selector(compare:)];
        NSLog(@"%@", array);
        
        [array mySortBySel:@selector(compare:)];
        NSLog(@"%@", array);
    }
    return 0;
}
```
```
//
//  NSMutableArray+SELSort.h
//  选择器
//
//  Created by 张增强 on 16/7/5.
//  Copyright © 2016年 张增强. All rights reserved.
//

#import <Foundation/Foundation.h>

@interface NSMutableArray (SELSort)

-(void)mySortBySel:(SEL)sel;

@end

```
```
//
//  NSMutableArray+SELSort.m
//  选择器
//
//  Created by 张增强 on 16/7/5.
//  Copyright © 2016年 张增强. All rights reserved.
//

#import "NSMutableArray+SELSort.h"

@implementation NSMutableArray (SELSort)

-(void)mySortBySel:(SEL)sel{
    for (NSInteger i = 0; i < self.count ; i++) {
        for (NSInteger j = 0; j < self.count -1 - i; j++) {
//            compare 后面写NSOrderedAscending, NSOrderedSame, NSOrderedDescending
            if ([self[j] performSelector:sel withObject:self[j+1]] == NSOrderedAscending) {
                [self exchangeObjectAtIndex:j withObjectAtIndex:j+1];
            }
        }
    }
//    NSLog(@"%@", self);
}

@end
```
####通过在传 sel 对象的方法中，进行@selector的使用
---