#沙盒

---

##什么是沙盒（sandbox）？
     - 出于安全的目的，应用程序只能将自己的数据和偏好设置写入到几个特定的位置上。
     - 当应用程序被安装到设备上时，系统会为其创建一个家目录，这个家目录就是应用程序的沙盒。
     - 家目录下共有四个子目录：
     Documents 目录：您应该将所有的应用程序数据文件写入到这个目录下。这个目录用于存储用户数据或其它应该定期备份的信息。
     AppName.app 目录：这是应用程序的程序包目录，包含应用程序的本身。由于应用程序必须经过签名，所以您在运行时不能对这个目录中的内容进行修改，否则可能会使应用程序无法启动。
     Library 目录：这个目录下有两个子目录：Caches 和 Preferences
     Preferences 目录包含应用程序的偏好设置文件。您不应该直接创建偏好设置文件，而是应该使用NSUserDefaults类来取得和设置应用程序的偏好
     Caches 目录用于存放应用程序专用的支持文件，保存应用程序再次启动过程中需要的信息。
     tmp 目录：这个目录用于存放临时文件，保存应用程序再次启动过程中不需要的信息。

##沙盒的功能和作用
     默认情况下，每个沙盒含有3个文件夹：Documents, Library 和 tmp。
     Documents：苹果建议将程序中建立的或在程序中浏览到的文件数据保存在该目录下；
     Library：存储程序的默认设置或其它状态信息；
     tmp：提供一个即时创建临时文件的地方。
     iTunes在与iPhone同步时，备份所有的Documents和Library文件。
     iPhone在重启时，会丢弃所有的tmp文件。

##常用函数
- 1.获取家目录路径的函数：
```
NSString *homeDir = NSHomeDirectory();
```

- 2.获取Documents 目录路径的方法：directory表明我们搜索目录名称 domainMask指定搜索范围，NSUserDomainMask表示仅限当前应该的沙盒目录；NSLocalDomainMask表示Library  NSNetworkDomainMask(表示/Network)
```
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
 NSString *docDir = [paths objectAtIndex:0];
```
- 3.获取Caches 目录路径方法
```
NSArray * paths = NSSearchPathForDirectoriesInDomains (NSCachesDirectory, NSUserDomainMask, YES);
NSString *cachesDir = [paths objectAtIndex:0];
```
- 4.tmp目录路径方法
```
NSString *tmpDir = NSTemporaryDirectory();
```
- 5.应用程序资源路径
```
NSString *imagePath = [[NSBundle mainBundle] pathForResource:@”apple” ofType:@”png”]
```
        